(window.webpackJsonpcashtab=window.webpackJsonpcashtab||[]).push([[15],{807:function(e,t,n){"use strict";n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return x}));var a,r,c,o,i,l,s,u=n(37),m=n(36),d=m.d.div(a||(a=Object(u.a)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 400px;\n    flex-direction: column;\n\n    svg {\n        width: 50px;\n        height: 50px;\n        fill: ",";\n    }\n"])),(function(e){return e.theme.primary})),p=m.d.div(r||(r=Object(u.a)(["\n    color: ",";\n    width: 100%;\n    font-size: 30px;\n    font-weight: bold;\n    @media (max-width: 768px) {\n        font-size: 23px;\n    }\n"])),(function(e){return e.theme.wallet.text.primary})),f=m.d.div(c||(c=Object(u.a)(["\n    color: ",";\n    width: 100%;\n    font-size: 18px;\n    margin-bottom: 20px;\n    font-weight: bold;\n    @media (max-width: 768px) {\n        font-size: 16px;\n    }\n"])),(function(e){return e.theme.wallet.text.secondary})),b=m.d.div(o||(o=Object(u.a)(["\n    color: ",";\n    width: 100%;\n    font-size: 14px;\n    margin-bottom: 5px;\n"])),(function(e){return e.theme.wallet.text.primary})),h=m.d.span(i||(i=Object(u.a)(["\n    font-weight: bold;\n"]))),g=m.d.p(l||(l=Object(u.a)(["\n    color: "," !important;\n"])),(function(e){return e.theme.forms.error})),x=m.d.div(s||(s=Object(u.a)(["\n    color: ",";\n    width: 100%;\n    font-size: 14px;\n    margin-bottom: 10px;\n    font-weight: bold;\n    @media (max-width: 768px) {\n        font-size: 12px;\n    }\n"])),(function(e){return e.theme.wallet.text.secondary}))},811:function(e,t,n){"use strict";var a=n(0),r=n(60),c=n(807);t.a=function(){return a.createElement(a.Fragment,null,a.createElement(c.a,null,a.createElement("b",null,"API connection lost."),a.createElement("br",null)," Re-establishing connection..."),a.createElement(r.a,null))}},865:function(e,t,n){"use strict";t.a=n.p+"static/media/checkout_icon.bd1106d2.svg"},866:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return x})),n.d(t,"f",(function(){return y})),n.d(t,"h",(function(){return v})),n.d(t,"d",(function(){return k})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return E}));var a,r,c,o,i,l,s,u,m,d,p=n(37),f=n(36),b=f.d.div(a||(a=Object(p.a)(["\n\tdisplay: flex;\n\tmargin: 0 auto 1rem;\n\tflex-direction: column;\n\th4 {\n\t\tfont-size: 1rem;\n\t\tline-height: 1.5;\n\t\ttext-align: center;\n\n\t\tcolor: #8a8a8a;\n\t}\n\thr {\n\t\tdisplay: inline-flex;\n\t\theight: 1px;\n\t\twidth: 3rem;\n\t\tborder: 0;\n\t\tbackground: rgba(0, 0, 0, 0.1);\n\t}\n\n\th1 {\n\t\tfont-size: 1.5rem;\n\t\tline-height: 1.5;\n\t\tfont-weight: 800;\n\t\ttext-align: center;\n\n\t\tcolor: #000000;\n\t}\n"]))),h=f.d.div(r||(r=Object(p.a)(["\n\ttext-align: left;\n\tletter-spacing: -0.01em;\n"]))),g=f.d.div(c||(c=Object(p.a)(["\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tflex-direction: column;\n\ttext-align: left;\n\t.title {\n\t\tfont-weight: 600;\n\t\tfont-size: 1rem;\n\t\tmargin-bottom: 0.5rem;\n\t\tline-height: 1.25;\n\n\t\tcolor: #8a8a8a;\n\t}\n\n\t.offer-description {\n\t\tfont-weight: 400;\n\t\tfont-size: 1rem;\n\t\tline-height: 1.25;\n\t\tmin-height: 2.5rem;\n\t\tmargin: 0 0 0rem;\n\n\t\tcolor: #000000;\n\t}\n\n\t.merchant {\n\t\tdisplay: block;\n\t\tfont-weight: 400;\n\t\tfont-size: 0.875rem;\n\t\tline-height: 1.25;\n\n\t\tcolor: #000000;\n\t}\n"]))),x=f.d.div(o||(o=Object(p.a)(["\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tflex-direction: column;\n\n\ttext-align: left;\n\t.text-muted {\n\t\tdisplay: block;\n\t\tfont-weight: 400;\n\t\tfont-size: 0.875rem;\n\t\tline-height: 1.25;\n\t\tmargin-bottom: 0;\n\n\t\tcolor: #8a8a8a;\n\t}\n\n\t.text-muted-small {\n\t\tdisplay: block;\n\t\tfont-weight: 400;\n\t\tfont-size: 0.7rem;\n\t\tline-height: 1.25;\n\t\tmargin-bottom: 0;\n\n\t\tcolor: #8a8a8a;\n\t}\n\n\t.text-red {\n\t\tdisplay: block;\n\t\tfont-weight: 400;\n\t\tfont-size: 0.875rem;\n\t\tline-height: 1.25;\n\t\tmargin-bottom: 0;\n\n\t\tcolor: red;\n\t}\n"]))),y=f.d.h3(i||(i=Object(p.a)(["\n\tfont-weight: 600;\n\tfont-size: 1.125rem;\n\tmargin-bottom: 0.75rem;\n\tline-height: 1.25;\n\n\tcolor: #000;\n"]))),v=f.d.div(l||(l=Object(p.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tmargin: 0.75rem auto;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\t&.min-m {\n\t\tmargin: 0.25rem auto;\n\t}\n\t.bold {\n\t\tfont-weight: 800;\n\t}\n\t.gray {\n\t\tcolor: #8a8a8a;\n\t}\n\t.black {\n\t\tcolor: #000;\n\t}\n\n\t.key,\n\t.value {\n\t\tfont-size: 1rem;\n\t\tline-height: 1.25;\n\t}\n\n\t.value {\n\t\ttext-align: right;\n\t}\n"]))),k=f.d.img(s||(s=Object(p.a)(["\n\twidth: 2rem;\n\tdisplay: block;\n\tmargin: 0 auto 0.5rem;\n"]))),O=f.d.hr(u||(u=Object(p.a)(["\n\tdisplay: block;\n\theight: 1px;\n\twidth: 100%;\n\tborder: 0;\n\tmargin: 0.6rem 0;\n\tbackground: rgba(0, 0, 0, 0.1);\n"]))),w=f.d.div(m||(m=Object(p.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground: rgba(0, 0, 0, 0.5);\n\ttransition: opacity 200ms;\n\tz-index: 3000;\n"]))),E=f.d.div(d||(d=Object(p.a)(["\n\tmargin: 30px auto;\n\tpadding: 20px;\n\tbackground: #fff;\n\tborder: 1px solid #666;\n\twidth: 80%;\n\tborder-radius: 6px;\n\tbox-shadow: 0 0 50px rgba(0, 0, 0, 0.5);\n\tposition: relative;\n\n\tp {\n\t\tcolor: #8a8a8a;\n\t\ttext-align: justify;\n  \t\ttext-justify: inter-word;\n\t}\n\n\t.first {\n\t\tmargin-top: 1em;\n\t}\n\n\t.key,\n\t.value {\n\t\tfont-size: 1rem;\n\t\tline-height: 1.25;\n\t}\n\t.black {\n\t\tcolor: #000;\n\t}\n"])))},973:function(e,t,n){"use strict";n.r(t),function(e){var a=n(3),r=n(7),c=n(19),o=n(17),i=n(8),l=n(0),s=n.n(l),u=n(51),m=n(90),d=n(802),p=n(801),f=n(60),b=n(155),h=n(309),g=n(196),x=n(13),y=n(239),v=n(310),k=n(42),O=n(811),w=n(57),E=n.n(w),j=n(195),N=n(14),S=n(59),D=n(865),A=n(866),P=n(951),C=n.n(P),T=n(956),F=n(959),I=n.n(F),z=N.script.SLP,M=function(t){var n,w,P,F,M,R,B,U,_,L,q,V,Y=t.passLoadingStatus,J=s.a.useContext(m.c),X=(Object(u.h)(),J.wallet),G=J.forceWalletUpdate,H=J.fiatPrice,W=J.apiError,K=J.cashtabSettings,$=Object(k.d)(X),Z=$.tokens,Q=$.balances,ee=["52b12c03466936e7e3b2dcfcff847338c53c611ba8ab74dd8e4dadf7ded12cf6","4075459e0ac841f234bc73fc4fe46fe5490be4ed98bc8ca3f9b898443a5a381a"],te=["https://pay.badger.cash/i/"],ne=Object(l.useState)({dirty:!0,value:"",address:""}),ae=Object(i.a)(ne,2),re=ae[0],ce=ae[1];if(re.token){var oe=Z.find((function(e){return e.tokenId===re.token.tokenId}));if(oe){var ie=oe.balance.toString();V=(ie/Math.pow(10,oe.info.decimals)).toString()}else V="0"}var le=Object(l.useState)(!1),se=Object(i.a)(le,2),ue=se[0],me=(se[1],Object(l.useState)(!1)),de=Object(i.a)(me,2),pe=de[0],fe=(de[1],Object(l.useState)(x.a.ticker)),be=Object(i.a)(fe,2),he=be[0],ge=(be[1],Object(l.useState)(!1)),xe=Object(i.a)(ge,2),ye=xe[0],ve=xe[1],ke=Object(l.useState)(!1),Oe=Object(i.a)(ke,2),we=Oe[0],Ee=Oe[1],je=Object(l.useState)(!1),Ne=Object(i.a)(je,2),Se=Ne[0],De=Ne[1],Ae=Object(l.useState)(!1),Pe=Object(i.a)(Ae,2),Ce=Pe[0],Te=Pe[1],Fe=Object(l.useState)(!1),Ie=Object(i.a)(Fe,2),ze=Ie[0],Me=Ie[1],Re=Object(l.useState)(null),Be=Object(i.a)(Re,2),Ue=Be[0],_e=Be[1],Le=Object(l.useState)(null),qe=Object(i.a)(Le,2),Ve=qe[0],Ye=qe[1],Je=Object(l.useState)(0),Xe=Object(i.a)(Je,2),Ge=Xe[0],He=Xe[1],We=function(e){var t=(.01*e).toFixed(2),n=(.04*(Number(e)+Number(t))).toFixed(2);return{exchangeAdditionalAmount:t,feeAmount:n,totalAmount:(Number(e)+Number(t)+Number(n)).toFixed(2)}},Ke=We(Ge),$e=Ke.exchangeAdditionalAmount,Ze=Ke.feeAmount,Qe=Ke.totalAmount,et=ee.slice(1).includes(null===(n=re.token)||void 0===n?void 0:n.tokenId),tt=Object(l.useState)(null),nt=Object(i.a)(tt,2),at=(nt[0],nt[1]),rt=Object(l.useState)(!1),ct=Object(i.a)(rt,2),ot=(ct[0],ct[1]),it=Object(l.useState)(null),lt=Object(i.a)(it,2),st=lt[0],ut=lt[1],mt=Object(l.useState)(null),dt=Object(i.a)(mt,2),pt=dt[0],ft=dt[1],bt=Object(l.useRef)(null),ht=function(){var t=Object(o.a)(Object(r.a)().mark((function t(n){var a,o,i,l,s,u,m,d,p;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!st){t.next=2;break}return t.abrupt("return",st);case 2:if(a="01",o=ye.url.split("/"),i=o[o.length-1],!((l=te.findIndex((function(e){return e===ye.url.replace(i,"")})))<0)){t.next=8;break}return t.abrupt("return",Object(g.b)(new Error,"Invalid payment server","Fetching invoice: ".concat(ye.url)));case 8:return a+="0".concat(l).concat(e.from(i,"utf8").toString("hex")),(s=e.allocUnsafe(4)).writeUInt32BE(n*Math.pow(10,4),0),a+=s.toString("hex"),u="https://".concat(et?"dev-api.":"","bux.digital/v2/addressalias/").concat(X.Path1899.slpAddress),t.next=15,fetch(u,{method:"get"});case 15:return m=t.sent,t.next=18,m.json();case 18:return d=t.sent.alias,a+=d,a+=function(e){return Object(c.a)(Array(e)).map((function(){return Math.floor(16*Math.random()).toString(16)})).join("")}(2),p="".concat(a.slice(0,8),"-").concat(a.slice(8,12),"-").concat(a.slice(12,16),"-").concat(a.slice(16,20),"-").concat(a.slice(20,32)),ut(p),t.abrupt("return",p);case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),gt=function(){var e=Object(o.a)(Object(r.a)().mark((function e(t){var n,a,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://".concat(et?"dev-api.":"","bux.digital/v2/authpaymenttoken"),e.next=3,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usdamount:Number(We(t).totalAmount),buxamount:t,address:X.Path1899.slpAddress,prurl:ye.url})});case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent.token,e.abrupt("return",ft(c));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xt=[].concat(Object(c.a)(x.a.prefixes),Object(c.a)(x.a.tokenPrefixes)),yt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},vt=Object(u.g)(),kt=Object(h.a)(),Ot=kt.getBcashRestUrl,wt=kt.sendBip70,Et=kt.sendSelfMint,jt=kt.sendSelfMintV2,Nt=(kt.generateBurnTx,kt.getMintVaultAddress,kt.getPostage),St=kt.readAuthCode;function Dt(e){return At.apply(this,arguments)}function At(){return(At=Object(o.a)(Object(r.a)().mark((function t(n){var a,c,o,i,l,s,u,m,d,p,f,b,h;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:if(a={},"ecash"!==n.type){t.next=10;break}o=N.Script.fromRaw(e.from(n.outputs[0].script)).getAddress().toString(),i=n.outputs.reduce((function(e,t){return e+t.value}),0),a.address=o,a.value=Object(k.c)(i),t.next=38;break;case 10:if("etoken"!==n.type){t.next=38;break}if(!(l=z.fromRaw(e.from(n.outputs[0].script))).isValidSlp()){t.next=38;break}if(s=l.getData(4),"SEND"!==l.getType()){t.next=21;break}d=N.Script.fromRaw(e.from(n.outputs[1].script)).getAddress().toString(),p=E.a.decode(d),u=E.a.encode("etoken",p.type,p.hash),m=l.getRecords(s),t.next=30;break;case 21:if("BURN"!==l.getType()){t.next=29;break}return u="**BURN**",m=[{value:l.getData(5)}],t.next=26,Nt(s.toString("hex"));case 26:c=t.sent,t.next=30;break;case 29:throw new Error("Unsupported SLP transaction type: ".concat(l.getType()));case 30:return f=m.reduce((function(t,n){return t.add(S.U64.fromBE(e.from(n.value)))}),S.U64.fromInt(0)),t.next=33,fetch("".concat(Ot(),"/token/").concat(s.toString("hex"))).then((function(e){return e.json()}));case 33:b=t.sent,a.address=u,h=f.toInt()/Math.pow(10,b.decimals),a.value="".concat(h),a.token=b;case 38:ce(a),c&&(at(c),ot(!0));case 40:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Pt(e,t){var n;Y(!1),n=e.error||e.message?/Could not communicate with full node or other external service/.test(e.error)?"Could not communicate with API. Please try again.":e.error&&e.error.includes("too-long-mempool-chain, too many unconfirmed ancestors [limit: 50] (code 64)")?"The ".concat(x.a.ticker," you are trying to send has too many unconfirmed ancestors to send (limit 50). Sending will be possible after a block confirmation. Try again in about 10 minutes."):e.message||e.error||JSON.stringify(e):"Transaction failed: no response from ".concat(Ot(),"."),Object(g.b)(e,n,"Sending ".concat(t))}function Ct(e,t){return Tt.apply(this,arguments)}function Tt(){return Tt=Object(o.a)(Object(r.a)().mark((function e(t,n){var c,o,i,l,s,u,m,d,p,f,b=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=b.length>2&&void 0!==b[2]?b[2]:1,ce(Object(a.a)(Object(a.a)({},re),{},{dirty:!1})),o=ye.paymentDetails,i=ye.type,o){e.next=5;break}return e.abrupt("return");case 5:return Object(y.a)("SendBip70.js","SendBip70",i),Y("Please wait while your transaction is broadcast"),e.prev=7,e.next=10,wt(X,o,x.a.defaultFee,!1,!1,t);case 10:if(l=e.sent,"ecash"==i?Object(g.e)(l):Object(g.f)(l),!o.merchantData){e.next=16;break}if(u=JSON.parse(o.merchantData.toString()),null===(s=u.callback)||void 0===s||!s.success_url){e.next=16;break}return e.abrupt("return",window.location.assign(u.callback.success_url));case 16:if(m=l.split("/"),d=m[m.length-1],_e(d),!t){e.next=24;break}return e.next=22,G(!0);case 22:e.next=26;break;case 24:return e.next=26,yt(3e3);case 26:Y(!1),e.next=46;break;case 29:if(e.prev=29,e.t0=e.catch(7),console.error(e.t0),402!==e.t0.cause.code&&404!==e.t0.cause.code||!(c<3)){e.next=44;break}return Y("Payment unsuccessful. Retrying... (".concat(p=c+1,"/3)")),e.next=37,yt(5e3);case 37:if(!n){e.next=41;break}return e.abrupt("return",Ft(n,p));case 41:return e.abrupt("return",Ct(null,null,p));case 42:e.next=46;break;case 44:f="etoken"==i?x.a.tokenTicker:x.a.ticker,Pt(e.t0,f);case 46:Y(!1);case 47:case"end":return e.stop()}}),e,null,[[7,29]])}))),Tt.apply(this,arguments)}Object(l.useEffect)((function(){Y(!1)}),[Q.totalBalance]),Object(l.useEffect)((function(){if(re.token){var e;(Number(V)-Number(re.value)).toFixed(re.token.decimals);if(ee.includes(null===(e=re.token)||void 0===e?void 0:e.tokenId)){var t=Number(Number(re.value).toFixed(re.token.decimals));if(t>0){var n=Math.ceil(100*t)/100;t=n<1?1:n}He(t),ht(t),gt(t)}}}),[V]),Object(l.useEffect)(Object(o.a)(Object(r.a)().mark((function e(){var t,n,a,c,o,i,l,s,u,m,d,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X.Path1899){e.next=2;break}return e.abrupt("return",vt.push("/wallet"));case 2:if(Y(!0),window.location&&window.location.hash&&(""!=window.location.search||"#/sendBip70"!==window.location.hash)){e.next=6;break}return Y(!1),e.abrupt("return");case 6:t=""==window.location.search?window.location.hash:window.location.search,n=t.indexOf("?"),a=t.slice(n+1).split("&"),c={},o=0;case 11:if(!(o<a.length)){e.next=24;break}if(i=a[o].indexOf("="),"mintauth"!=(l=a[o].slice(0,i).toLowerCase())){e.next=17;break}return console.log("has mintauth"),e.abrupt("return",vt.push("/selfMint"));case 17:s=a[o].slice(i+1),u=decodeURIComponent(s),m=u.split(":")[0],"uri"===l&&xt.includes(m)&&(d=u.split("?")[1],(p=Object(j.b)(d))&&(c.type=m.toLowerCase(),c.url=p));case 21:o+=1,e.next=11;break;case 24:if(!c.url||!c.type){e.next=42;break}return e.prev=25,e.next=28,Object(j.a)(c.url,c.type);case 28:c.paymentDetails=e.sent.paymentDetails,c.paymentDetails.merchantDataJson=JSON.parse(c.paymentDetails.merchantData.toString()),e.next=40;break;case 32:return e.prev=32,e.t0=e.catch(25),Object(g.b)(e.t0,"Failed to fetch invoice. May be expired or invalid","Fetching invoice: ".concat(c.url)),e.next=37,yt(3e3);case 37:return Y(!1),window.history.replaceState(null,"",window.location.origin),e.abrupt("return",vt.push("/wallet"));case 40:e.next=44;break;case 42:return Y(!1),e.abrupt("return",vt.push("/wallet"));case 44:return ve(c),c.paymentDetails.type=c.type,e.next=48,Dt(c.paymentDetails);case 48:Y(!1);case 49:case"end":return e.stop()}}),e,null,[[25,32]])}))),[]);var Ft=function(){var t=Object(o.a)(Object(r.a)().mark((function t(n){var o,i,l,s,u,m,d=arguments;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=d.length>1&&void 0!==d[1]?d[1]:1,i=d.length>2?d[2]:void 0,ce(Object(a.a)(Object(a.a)({},re),{},{dirty:!1})),n){t.next=5;break}return t.abrupt("return");case 5:if(l=e.from(re.token.tokenId,"hex"),Object(y.a)("SelfMint.js","SelfMint",n),Y("Please wait while your tokens are minted"),s=!0,t.prev=9,u=St(n),1!==u.version){t.next=17;break}return t.next=14,Et(X,l,n,!1,s);case 14:m=t.sent,t.next=20;break;case 17:return t.next=19,jt(X,n,!1,s,i,et);case 19:m=t.sent;case 20:if(Me(!0),!s){t.next=23;break}return t.abrupt("return",Ct([].concat(Object(c.a)(i?[i]:[]),[m]),n,o));case 23:return Object(g.d)(),G(),t.abrupt("return",Y(!0));case 28:t.prev=28,t.t0=t.catch(9),Pt(t.t0,n);case 31:case"end":return t.stop()}}),t,null,[[9,28]])})));return function(e){return t.apply(this,arguments)}}(),It=function(){return re.token?Number(V)>=Number(re.value):!!re&&Number(Q.totalBalance)>Number(re.value)},zt="";null===H||isNaN(re.value)||(he===x.a.ticker?(zt="".concat((H*Number(re.value)).toFixed(2)),zt=Object(v.b)(Number(zt)),zt="".concat(K?"".concat(x.a.fiatCurrencies[K.fiatCurrency].symbol," "):"$ "," ").concat(zt," ").concat(K&&K.fiatCurrency?K.fiatCurrency.toUpperCase():"USD")):zt="".concat(re.value?Object(v.b)(Number(Object(v.a)(re.value,H))):Object(v.b)(0)," ").concat(x.a.ticker));var Mt=function(){var e=Object(o.a)(Object(r.a)().mark((function e(t){var n,a,c,o,i,l,s,u,m,d,p,f;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("result",t),c=null===(n=t.messages)||void 0===n?void 0:n.resultCode,console.log("resultCode",c),!c||"Ok"===c){e.next=8;break}return console.log("authorize.net responseCode ".concat(t.responseCode)),Y(!1),e.abrupt("return");case 8:return Y("Processing payment information..."),bt.current.scrollIntoView(),o="cc",!c&&null!==(a=t.paymentMethodData)&&void 0!==a&&a.tokenizationData&&(o="googlepay",t.opaqueData={dataDescriptor:"COMMON.GOOGLE.INAPP.PAYMENT",dataValue:btoa(null===(i=t.paymentMethodData)||void 0===i?void 0:i.tokenizationData.token)}),l="https://".concat(et?"dev-api.":"","bux.digital/v2/authpaymenttransaction"),e.next=15,fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usdamount:Number(We(Ge).totalAmount),buxamount:Ge,address:X.Path1899.slpAddress,prurl:ye.url,opaquedata:t.opaqueData,customerinformation:t.customerInformation,type:o})});case 15:return s=e.sent,e.prev=16,e.next=19,s.json();case 19:u=e.sent.transId,e.next=26;break;case 22:throw e.prev=22,e.t0=e.catch(16),console.log(e.t0),new Error("Card declined. Please check card information and try again.");case 26:return Y("Fetching authorization code..."),e.next=29,fetch("https://".concat(et?"dev-api.":"","bux.digital/v").concat(2,"/success?paymentId=").concat(t.transId||u),{method:"get",headers:{"content-type":"application/json"}});case 29:return m=e.sent,e.prev=30,e.next=33,m.json();case 33:d=e.sent,e.next=40;break;case 36:throw e.prev=36,e.t1=e.catch(30),console.log(e.t1),new Error("Error retreiving auth code. Please contact merchant for assistance.");case 40:Ye(t.transId||u),Ft(d.authcode,1,undefined),e.next=50;break;case 44:e.prev=44,e.t2=e.catch(0),console.log(e.t2),p=ye.type,f="etoken"==p?x.a.tokenTicker:x.a.ticker,Pt(e.t2,f);case 50:case"end":return e.stop()}}),e,null,[[0,44],[16,22],[30,36]])})));return function(t){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(o.a)(Object(r.a)().mark((function e(t){var n,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("result",t),"success"===t.status){e.next=5;break}return"pending"===t.status?(console.log("wert pending"),bt.current.scrollIntoView(),Y("Processing payment. This can take up to 60 seconds.")):(console.log("wert ".concat(t.status)),Y(!1)),e.abrupt("return");case 5:Y("true"),Ft(t.authcode,1,undefined),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),n=ye.type,a="etoken"==n?x.a.tokenTicker:x.a.ticker,Pt(e.t0,a);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Bt=(V||Q.totalBalance,(null===(w=re.token)||void 0===w?void 0:w.ticker)||x.a.ticker),Ut=(null===(P=ye.paymentDetails)||void 0===P||null===(F=P.merchantDataJson)||void 0===F?void 0:F.ipn_body)||{},_t=Ut.invoice,Lt=Ut.merchant_name,qt=Ut.offer_description,Vt=Ut.offer_name,Yt=!It()||W||pe||ue||!ye;Yt||Y(!1);var Jt="Pay $".concat(Qe," - Self-mint Authorization Code (").concat(Ge," ").concat(Bt,")");return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{title:"Confirm Send",visible:we,onOk:function(){De(!0),Ct()},onCancel:function(){Ee(!1)}},s.a.createElement("p",null,"Are you sure you want to send ",re.value," ",Bt," to settle this payment request?")),s.a.createElement(A.c,{ref:bt,tabindex:"-1"},s.a.createElement(A.d,{src:D.a}),s.a.createElement("h4",null,"CHECKOUT"),s.a.createElement("hr",null),Vt&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,Vt))),s.a.createElement(A.e,null,s.a.createElement(A.i,null,s.a.createElement("h3",{className:"title"},Ue?"Receipt ":"Payment Request ","Details:"),qt&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"offer-description"},qt),s.a.createElement("span",{className:"merchant"},"From ",Lt))||ye&&ye.paymentDetails&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"offer-description"},ye.paymentDetails.memo))),s.a.createElement(A.g,null),Yt&&s.a.createElement(s.a.Fragment,null,Ue?s.a.createElement(A.j,null,!It()&&s.a.createElement("p",{className:"text-muted"},"Payment Success!"),s.a.createElement(A.h,{className:"min-m"},s.a.createElement("span",{className:"key black"},"You purchased and used an Auth Code for"),s.a.createElement("span",{className:"value black bold"},Ge," ",Bt)),s.a.createElement("p",{className:"text-muted"},(new Date).toString()),Ve&&s.a.createElement("p",{className:"text-muted"},"BUX Order #",Ve," "),s.a.createElement("p",{className:"text-muted"},"XEC transaction ID:"),s.a.createElement("p",{className:"text-muted-small"},s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://explorer.cert.cash/tx/".concat(Ue)},Ue)),s.a.createElement("p",{className:"text-red"},"Please screenshot or print this receipt for your records")):s.a.createElement(A.j,null,!It()&&s.a.createElement("p",{className:"text-muted"},"You have insufficient funds in this wallet"),s.a.createElement(A.h,{className:"min-m"},s.a.createElement("span",{className:"key black"},"Purchase an Auth Code for"),s.a.createElement("span",{className:"value black bold"},Ge," ",Bt)),s.a.createElement("p",{className:"text-muted"},"In order to settle this payment request")),s.a.createElement(A.g,null),s.a.createElement(A.f,null,"Transaction Details:"),s.a.createElement(A.h,null,s.a.createElement("span",{className:"key gray"},"Subtotal:"),s.a.createElement("span",{className:"value gray"},"$",Ge.toFixed(2))),s.a.createElement(A.h,null,s.a.createElement("span",{className:"key gray"},"Fee:"),s.a.createElement("span",{className:"value gray"},"$",(Number($e)+Number(Ze)).toFixed(2))),Ue&&s.a.createElement(A.h,null,s.a.createElement("span",{className:"key gray"},"Paid:"),s.a.createElement("span",{className:"value gray"},"-$",Qe)),s.a.createElement(A.h,null,s.a.createElement("span",{className:"key gray bold"},"Total:"),s.a.createElement("span",{className:"value gray bold"},"$",Ue?0:Qe)))||s.a.createElement(s.a.Fragment,null,s.a.createElement(A.j,null,s.a.createElement(A.h,{className:"min-m"},s.a.createElement("span",{className:"key black"},"Ready To Send"),s.a.createElement("span",{className:"value black bold"},re.value," ",Bt)),s.a.createElement("p",{className:"text-muted"},"In order to settle this payment request"))),s.a.createElement(A.g,null),Lt&&s.a.createElement(s.a.Fragment,null,s.a.createElement(A.h,null,s.a.createElement("span",{className:"key gray"},"Merchant:"),s.a.createElement("span",{className:"value gray"},Lt))),_t&&s.a.createElement(s.a.Fragment,null,s.a.createElement(A.h,null,s.a.createElement("span",{className:"key gray"},"Invoice:"),s.a.createElement("span",{className:"value gray"},_t))),(Lt||_t)&&s.a.createElement(s.a.Fragment,null,s.a.createElement(A.g,null))),Yt?s.a.createElement(s.a.Fragment,null,Ce&&s.a.createElement(s.a.Fragment,null,!ze&&st&&pt?s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"text-muted"},"By making this purchase you agree to the",s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://bux.digital/tos.html"}," Terms Of Service")),null!==(M=ye.paymentDetails.merchantDataJson.ipn_body)&&void 0!==M&&M.offer_name?s.a.createElement(C.a,{style:{height:"580px"},options:{partner_id:et?"01H97V3M5ZZPVS7RXW2V2NXVN5":"01HB6ASSZED5SH5V8KWQD1MR87",origin:"https://".concat(et?"sandbox":"widget",".wert.io"),click_id:st,currency:"USD",commodity:"BUX",network:et?"testnet":"mainnet",address:X.Path1899.cashAddress,commodities:JSON.stringify([{commodity:"BUX",network:et?"testnet":"mainnet"}]),commodity_amount:Ge,listeners:{loaded:function(){return console.log("Wert widget loaded")},"payment-status":function(e){return Rt(e)}}}}):s.a.createElement(s.a.Fragment,null,et&&s.a.createElement(s.a.Fragment,null,s.a.createElement(T.a,{authData:{apiLoginID:et?"25W2mLe5":"469zGVDrekmC",clientKey:et?"8TEqfrHqLh4UWqUY8Sf3H8fq5PyczM9gqfV927Rq8Q5eFwVs2P8UYn7H8MK8Fy4T":"74AUbX9mjmMFFBs38EG8q46dEaxNy9kC6p8rK4f33nw6yGhFn6g62vrX5d2KGAQ8"},onSubmit:Mt,environment:et?"SANDBOX":"PRODUCTION",billingAddressOptions:{show:!0,required:!0},buttonStyle:{border:"none",color:"rgb(255, 255, 255)",backgroundImage:"linear-gradient(270deg, rgb(0, 116, 194) 0%, rgb(39, 52, 152) 100%)",transition:"all 0.5s ease 0s",backgroundSize:"200%",fontSize:"18px",width:"80%",padding:"20px 0px",borderRadius:"4px",marginBottom:"20px",cursor:"pointer"},buttonText:"PAY WITH CREDIT CARD",formHeaderText:Jt}),s.a.createElement(I.a,{environment:et?"TEST":"PRODUCTION",buttonColor:"default",buttonType:"buy",buttonSizeMode:"fill",paymentRequest:{apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["MASTERCARD","VISA","AMEX"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"authorizenet",gatewayMerchantId:et?"873125":"2601218"}}}],merchantInfo:{merchantId:"BCR2DN4TY24ZBPKF",merchantName:"Badger LLC"},transactionInfo:{totalPriceStatus:"FINAL",totalPriceLabel:"Total",totalPrice:"".concat(Qe),currencyCode:"USD",countryCode:"US"}},onLoadPaymentData:Mt,style:{width:"80%",height:"68px"}})),!et&&s.a.createElement("p",{className:"text-red",style:{color:"red"}},"Purchase via credit card is not available at this time."))):s.a.createElement(s.a.Fragment,null,Se&&!Ue?s.a.createElement(p.a,{spinning:!0,indicator:f.b}):s.a.createElement(s.a.Fragment,null)))):s.a.createElement(s.a.Fragment,null,Se&&!Ue?s.a.createElement(p.a,{spinning:!0,indicator:f.b}):s.a.createElement(s.a.Fragment,null)),W&&s.a.createElement(O.a,null),!Ce&&Yt&&s.a.createElement(A.b,null,s.a.createElement(A.a,null,s.a.createElement(A.f,null,"You are about to purchase a BUX Self-Mint Authorization Code"),s.a.createElement(A.g,null),s.a.createElement("span",{className:"key black"},"To proceed you must agree to the following:"),s.a.createElement("p",{className:" first"},"1. The seller of the digital good in this transaction is",s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:null!==(R=ye.paymentDetails)&&void 0!==R&&null!==(B=R.merchantDataJson)&&void 0!==B&&null!==(U=B.ipn_body)&&void 0!==U&&U.offer_name?"https://wert.io":"https://bux.digital"},null!==(_=ye.paymentDetails)&&void 0!==_&&null!==(L=_.merchantDataJson)&&void 0!==L&&null!==(q=L.ipn_body)&&void 0!==q&&q.offer_name?" WERT.IO":" BADGER LLC")),s.a.createElement("p",null,"2. This purchase is for an authorization code ONLY. It is not a purchase of digital currency, credits on any third-party platform, or any other product or service"),s.a.createElement("p",null,"3. This unhosted wallet, upon receiving the authorization code (after your credit card payment is made), will mint and send BUX tokens to settle the payment request"),s.a.createElement("p",null,"4. You have read and understand the BUX ",s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://bux.digital/tos.html"}," Terms Of Service")),s.a.createElement(b.c,{onClick:function(){return Te(!0)}},"I Agree"))))};M.defaultProps={passLoadingStatus:function(e){console.log(e)}},t.default=M}.call(this,n(4).Buffer)}}]);
//# sourceMappingURL=15.825b14ba.chunk.js.map