(window.webpackJsonpcashtab=window.webpackJsonpcashtab||[]).push([[14],{807:function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return O}));var r,a,o,c,i,l,u,s=n(37),d=n(36),m=d.d.div(r||(r=Object(s.a)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 400px;\n    flex-direction: column;\n\n    svg {\n        width: 50px;\n        height: 50px;\n        fill: ",";\n    }\n"])),(function(e){return e.theme.primary})),f=d.d.div(a||(a=Object(s.a)(["\n    color: ",";\n    width: 100%;\n    font-size: 30px;\n    font-weight: bold;\n    @media (max-width: 768px) {\n        font-size: 23px;\n    }\n"])),(function(e){return e.theme.wallet.text.primary})),p=d.d.div(o||(o=Object(s.a)(["\n    color: ",";\n    width: 100%;\n    font-size: 18px;\n    margin-bottom: 20px;\n    font-weight: bold;\n    @media (max-width: 768px) {\n        font-size: 16px;\n    }\n"])),(function(e){return e.theme.wallet.text.secondary})),b=d.d.div(c||(c=Object(s.a)(["\n    color: ",";\n    width: 100%;\n    font-size: 14px;\n    margin-bottom: 5px;\n"])),(function(e){return e.theme.wallet.text.primary})),h=d.d.span(i||(i=Object(s.a)(["\n    font-weight: bold;\n"]))),g=d.d.p(l||(l=Object(s.a)(["\n    color: "," !important;\n"])),(function(e){return e.theme.forms.error})),O=d.d.div(u||(u=Object(s.a)(["\n    color: ",";\n    width: 100%;\n    font-size: 14px;\n    margin-bottom: 10px;\n    font-weight: bold;\n    @media (max-width: 768px) {\n        font-size: 12px;\n    }\n"])),(function(e){return e.theme.wallet.text.secondary}))},811:function(e,t,n){"use strict";var r=n(0),a=n(60),o=n(807);t.a=function(){return r.createElement(r.Fragment,null,r.createElement(o.a,null,r.createElement("b",null,"API connection lost."),r.createElement("br",null)," Re-establishing connection..."),r.createElement(a.a,null))}},815:function(e,t,n){"use strict";n.d(t,"a",(function(){return q})),n.d(t,"i",(function(){return V})),n.d(t,"f",(function(){return G})),n.d(t,"e",(function(){return H})),n.d(t,"d",(function(){return Y})),n.d(t,"b",(function(){return K})),n.d(t,"g",(function(){return X})),n.d(t,"h",(function(){return Z})),n.d(t,"c",(function(){return $}));var r,a,o,c,i,l,u,s=n(31),d=n(37),m=n(0),f=n.n(m),p=n(978),b=n(979),h=n(977),g=n(60),O=n(36),x=n(7),j=n(17),v=n(8),E=n(802),w=n(984),k=n(820),y=n(13),S=n(239),I=["loadWithCameraOpen","onScan"],C=O.d.span(r||(r=Object(d.a)(["\n    display: block;\n"]))),P=Object(O.d)(E.a)(a||(a=Object(d.a)(["\n    width: 400px !important;\n    height: 400px !important;\n\n    .ant-modal-close {\n        top: 0 !important;\n        right: 0 !important;\n    }\n"]))),A=O.d.video(o||(o=Object(d.a)(["\n    width: 100%;\n"]))),T=function(e){var t=e.loadWithCameraOpen,n=e.onScan,r=void 0===n?function(){return null}:n,a=Object(s.a)(e,I),o=Object(m.useState)(t),c=Object(v.a)(o,2),i=c[0],l=c[1],u=Object(m.useState)(!1),d=Object(v.a)(u,2),p=d[0],b=d[1],h=Object(m.useState)(null),O=Object(v.a)(h,2),E=O[0],T=O[1],F=function(e){null!==e&&(e.reset(),e.stop(),T(e=null))},U=function(e){var t="unknown",n={};if(Object(y.e)(e)||Object(y.f)(e)){t="address",n={address:e};var r=y.a.ticker;e.split(y.a.tokenPrefix).length>1&&(r=y.a.tokenTicker),Object(S.a)("ScanQRCode.js","Address Scanned",r)}return{type:t,values:n}},B=function(){var e=Object(j.a)(Object(x.a)().mark((function e(){var t,n,a;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new k.BrowserQRCodeReader,T(t),e.prev=2,e.next=5,t.getVideoInputDevices();case 5:return e.sent,e.next=8,t.decodeFromInputVideoDevice(void 0,"test-area-qr-code-webcam");case 8:if(n=e.sent,"address"!==(a=U(n.text)).type){e.next=14;break}return l(!1),r(a.values.address),e.abrupt("return",F(t));case 14:e.next=23;break;case 16:e.prev=16,e.t0=e.catch(2),console.log("Error in QR scanner:"),console.log(e.t0),console.log(JSON.stringify(e.t0.message)),b(e.t0),F(t);case 23:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}();return f.a.useEffect((function(){i?B():(b(!1),null!==E&&F(E))}),[i]),f.a.createElement(f.a.Fragment,null,f.a.createElement(C,Object.assign({},a,{onClick:function(){return l(!i)}}),f.a.createElement(g.i,null)),f.a.createElement(P,{title:"Scan QR code",visible:i,onCancel:function(){return l(!1)},footer:null},i?f.a.createElement("div",null,p?f.a.createElement(f.a.Fragment,null,f.a.createElement(w.a,{message:"Error",description:"Error in QR scanner. Please ensure your camera is not in use. Due to Apple restrictions on third-party browsers, you must use Safari browser for QR code scanning on an iPhone.",type:"error",showIcon:!0,style:{textAlign:"left"}})):f.a.createElement(A,{id:"test-area-qr-code-webcam"})):null))},F=(n(309),n(112)),U=["onMax","inputProps","selectProps","activeFiatCode"],B=["onMax","inputProps"],D=["onScan","loadWithCameraOpen","inputProps"],N=["inputProps"],M=["inputProps"],R=["inputProps"],z=["inputProps"],L=p.a.TextArea,Q=Object(O.c)(c||(c=Object(d.a)(["\n    .ant-input-group-addon {\n        background-color: "," !important;\n        border: 1px solid ",";\n        color: "," !important;\n    }\n    input.ant-input,\n    .ant-select-selection {\n        background-color: "," !important;\n        box-shadow: none !important;\n        border-radius: 4px;\n        font-weight: bold;\n        color: ",";\n        opacity: 1;\n        height: 50px;\n    }\n    textarea.ant-input,\n    .ant-select-selection {\n        background-color: "," !important;\n        box-shadow: none !important;\n        border-radius: 4px;\n        font-weight: bold;\n        color: ",";\n        opacity: 1;\n        height: 50px;\n        min-height: 100px;\n    }\n    .ant-input-affix-wrapper {\n        background-color: ",";\n        border: 1px solid "," !important;\n    }\n    .ant-select-selector {\n        height: 60px !important;\n        border: 1px solid "," !important;\n    }\n    .ant-form-item-has-error\n        > div\n        > div.ant-form-item-control-input\n        > div\n        > span\n        > span\n        > span.ant-input-affix-wrapper {\n        background-color: ",";\n        border-color: "," !important;\n    }\n\n    .ant-form-item-has-error .ant-input,\n    .ant-form-item-has-error .ant-input-affix-wrapper,\n    .ant-form-item-has-error .ant-input:hover,\n    .ant-form-item-has-error .ant-input-affix-wrapper:hover {\n        background-color: ",";\n        border-color: "," !important;\n    }\n\n    .ant-form-item-has-error\n        .ant-select:not(.ant-select-disabled):not(.ant-select-customize-input)\n        .ant-select-selector {\n        background-color: ",";\n        border-color: "," !important;\n    }\n    .ant-select-single .ant-select-selector .ant-select-selection-item,\n    .ant-select-single .ant-select-selector .ant-select-selection-placeholder {\n        line-height: 60px;\n        text-align: left;\n        color: ",";\n        font-weight: bold;\n    }\n    .ant-form-item-has-error .ant-input-group-addon {\n        color: "," !important;\n        border-color: "," !important;\n    }\n    .ant-form-item-explain.ant-form-item-explain-error {\n        color: "," !important;\n    }\n"])),(function(e){return e.theme.forms.addonBackground}),(function(e){return e.theme.forms.border}),(function(e){return e.theme.forms.addonForeground}),(function(e){return e.theme.forms.selectionBackground}),(function(e){return e.theme.forms.text}),(function(e){return e.theme.forms.selectionBackground}),(function(e){return e.theme.forms.text}),(function(e){return e.theme.forms.selectionBackground}),(function(e){return e.theme.wallet.borders.color}),(function(e){return e.theme.wallet.borders.color}),(function(e){return e.theme.forms.selectionBackground}),(function(e){return e.theme.forms.error}),(function(e){return e.theme.forms.selectionBackground}),(function(e){return e.theme.forms.error}),(function(e){return e.theme.forms.selectionBackground}),(function(e){return e.theme.forms.error}),(function(e){return e.theme.forms.text}),(function(e){return e.theme.forms.error}),(function(e){return e.theme.forms.error}),(function(e){return e.theme.forms.error})),q=O.d.div(i||(i=Object(d.a)(["\n    ","\n"])),Q),W=O.d.span(l||(l=Object(d.a)(["\n    width: 100%;\n    height: 100%;\n    display: block;\n\n    ","\n"])),(function(e){return e.disabled?"\n      cursor: not-allowed;\n      ":"cursor: pointer;"})),J=O.d.span(u||(u=Object(d.a)(["\n    background-color: "," !important;\n    border: 1px solid ",";\n    color: "," !important;\n    height: 50px;\n    line-height: 47px;\n\n    * {\n        color: "," !important;\n    }\n    ","\n"])),(function(e){return e.theme.forms.addonBackground}),(function(e){return e.theme.forms.border}),(function(e){return e.theme.forms.addonForeground}),(function(e){return e.theme.forms.addonForeground}),(function(e){return e.disabled?"\n      cursor: not-allowed;\n      ":"cursor: pointer;"})),V=function(e){var t=e.onMax,n=e.inputProps,r=e.selectProps,a=e.activeFiatCode,o=Object(s.a)(e,U),c=b.a.Option,i=[{value:y.a.ticker,label:y.a.ticker},{value:a||"USD",label:a||"USD"}].map((function(e){return m.createElement(c,{key:e.value,value:e.value,className:"selectedCurrencyOption"},e.label)})),l=m.createElement(b.a,Object.assign({defaultValue:y.a.ticker,className:"select-after",style:{width:"30%"}},r),i);return m.createElement(q,null,m.createElement(h.a.Item,o,m.createElement(p.a.Group,{compact:!0},m.createElement(p.a,Object.assign({style:{width:"60%",textAlign:"left"},type:"number",step:1===n.dollar?.01:1/Math.pow(10,y.a.cashDecimals),prefix:1===n.dollar?m.createElement(g.g,null):m.createElement("img",{src:y.a.logo,alt:"",width:16,height:16})},n)),l,m.createElement(J,{style:{width:"10%",height:"60px",lineHeight:"60px"},disabled:!!(n||{}).disabled,onClick:!(n||{}).disabled&&t},"max"))))},G=function(e){var t=e.onMax,n=e.inputProps,r=Object(s.a)(e,B);return m.createElement(q,null,m.createElement(h.a.Item,r,m.createElement(p.a,Object.assign({type:"number",prefix:m.createElement("img",{src:y.a.logo,alt:"",width:16,height:16}),addonAfter:m.createElement(W,{disabled:!!(n||{}).disabled,onClick:!(n||{}).disabled&&t},"max")},n))))},H=function(e){var t=e.onScan,n=e.loadWithCameraOpen,r=e.inputProps,a=Object(s.a)(e,D);return m.createElement(q,null,m.createElement(h.a.Item,a,m.createElement(p.a,Object.assign({prefix:m.createElement(g.k,null),autoComplete:"off",addonAfter:m.createElement(T,{loadWithCameraOpen:n,onScan:t})},r))))},Y=function(e){var t=e.inputProps,n=Object(s.a)(e,N);return m.createElement(q,null,m.createElement(h.a.Item,n,m.createElement(L,Object.assign({prefix:m.createElement(g.k,null),autoComplete:"off"},t))))},K=function(e){var t=e.inputProps,n=Object(s.a)(e,M);return m.createElement(q,null,m.createElement(h.a.Item,n,m.createElement(p.a,Object.assign({prefix:m.createElement(g.k,null),autoComplete:"off",readOnly:!0},t))))},X=function(e){var t=e.inputProps,n=Object(s.a)(e,R);return m.createElement(q,null,m.createElement(h.a.Item,n,m.createElement(p.a,Object.assign({prefix:m.createElement(g.h,null),autoComplete:"off"},t))))},Z=function(e){var t=e.inputProps,n=Object(s.a)(e,z),r=F.b[0].imageUrl;return m.createElement(q,null,m.createElement(h.a.Item,n,m.createElement(p.a,Object.assign({style:{width:"60%",textAlign:"left"},type:"number",step:.01,precision:2,prefix:m.createElement("img",{src:r,alt:"",width:16,height:16})},t))))},$=function(e){for(var t=b.a.Option,n=[],r=Object.keys(y.a.fiatCurrencies),a=0;a<r.length;a+=1){var o={};o.value=y.a.fiatCurrencies[r[a]].slug,o.label="".concat(y.a.fiatCurrencies[r[a]].name," (").concat(y.a.fiatCurrencies[r[a]].symbol,")"),n.push(o)}var c=n.map((function(e){return m.createElement(t,{key:e.value,value:e.value,className:"selectedCurrencyOption"},e.label)}));return m.createElement(b.a,Object.assign({className:"select-after",style:{width:"100%"}},e),c)}},819:function(e,t,n){"use strict";var r=n(0),a=(n(42),n(807));t.a=function(e){var t=e.balance,n=e.ticker;return r.createElement(a.c,null,t," ",n)}},864:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),a=n(0);function o(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function c(){var e=Object(a.useState)(o()),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){c(o())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}},972:function(e,t,n){"use strict";n.r(t);var r,a,o=n(6),c=n(3),i=n(7),l=n(17),u=n(8),s=n(37),d=n(0),m=n.n(d),f=n(90),p=n(981),b=n(450),h=n(901),g=n(902),O=n(977),x=n(984),j=n(982),v=n(36),E=n(155),w=n(815),k=n(309),y=n(819),S=n(51),I=n(864),C=n(900),P=n(826),A=n(825),T=n.n(A),F=n(29),U=n.n(F),B=n(13),D=n(239),N=n(112),M=n(42),R=n(811),z=n(196),L=Object(v.d)(p.a)(r||(r=Object(s.a)(["\n  ","\n"])),(function(e){return e&&Object(v.c)(a||(a=Object(s.a)(["\n      & .ant-checkbox .ant-checkbox-inner {\n        background-color: white;\n        border-color: blue;\n      }\n    "])))})),Q=function(e){var t=e.tokenId,n=e.passLoadingStatus,r=m.a.useContext(f.c),a=r.wallet,s=r.apiError,p=Object(M.d)(a),v=p.tokens,A=p.slpBalancesAndUtxos.slpUtxos,F=v.find((function(e){return e.tokenId===t})),Q=F?new U.a(F.balance).div(Math.pow(10,F.info.decimals)).toString():"0",q=A.filter((function(e){return e.slp.tokenId===t})),W=Object(d.useState)(null),J=Object(u.a)(W,2),V=J[0],G=(J[1],Object(d.useState)(null)),H=Object(u.a)(G,2),Y=H[0],K=H[1],X=Object(d.useState)(!1),Z=Object(u.a)(X,2),$=Z[0],_=Z[1],ee=Object(d.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],re=te[1],ae=Object(I.a)().width<769&&C.isMobile&&!(C.isIOS&&!C.isSafari),oe={dirty:!0,value:"",address:""},ce=Object(d.useState)(oe),ie=Object(u.a)(ce,2),le=ie[0],ue=ie[1],se=Object(d.useState)(null),de=Object(u.a)(se,2),me=de[0],fe=de[1],pe=Object(d.useState)(!1),be=Object(u.a)(pe,2),he=be[0],ge=be[1],Oe=Object(k.a)(),xe=Oe.getBcashRestUrl,je=Oe.sendToken,ve=Oe.getPostage,Ee=Oe.calculatePostage;function we(){return(we=Object(l.a)(Object(i.a)().mark((function e(){var r,o,l,u,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue(Object(c.a)(Object(c.a)({},le),{},{dirty:!1})),le.address&&le.value&&!Number(le.value<=0)&&!ne){e.next=3;break}return e.abrupt("return");case 3:return Object(D.a)("SendToken.js","Send",t),n(!0),r=le.address,o=le.value,l=r.split("?")[0],e.prev=7,e.next=10,je(a,{tokenId:t,tokenReceiverAddress:l,amount:o,postageData:he?me:null},B.a.defaultFee);case 10:u=e.sent,Object(z.e)(u),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(7),n(!1),s=e.t0.error||e.t0.message?/Could not communicate with full node or other external service/.test(e.t0.error)?"Could not communicate with API. Please try again.":e.t0.message||e.t0.error||JSON.stringify(e.t0):"Transaction failed: no response from ".concat(xe(),"."),Object(z.b)(e.t0,s,"Sending eToken");case 19:ue(oe),n(!1);case 21:case"end":return e.stop()}}),e,null,[[7,14]])})))).apply(this,arguments)}Object(d.useEffect)(Object(l.a)(Object(i.a)().mark((function e(){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,ve(t);case 3:(r=e.sent)&&(fe(r),ge(!0)),n(!1);case 6:case"end":return e.stop()}}),e)}))),[]);var ke=function(e){var t=e.target,n=t.value,r=t.name,a=!1,i=n,l=Object(B.g)(i,!0),u=l.address,s=l.isValid,d=l.queryString;K(d),s?Object(B.f)(u)||(a="Cashtab only supports sending to ".concat(B.a.tokenPrefixes[0]," prefixed addresses")):a="Address is not a valid etoken: address",_(a),ue((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(o.a)({},r,n))}))},ye=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:re(!1),t=0,he&&(n=Ee(q.length,1,me),t=n/Math.pow(10,me.stamp.decimals));try{r=Q-t,ue(Object(c.a)(Object(c.a)({},le),{},{value:r}))}catch(a){console.log("Error in onMax:"),console.log(a),b.b.error("Unable to calculate the max value due to network errors")}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){n(!1)}),[F]);var Se=["".concat(B.a.tokenIconsUrl,"/32/").concat(t,".png")],Ie=N.b.find((function(e){return e.tokenId==t&&e.imageUrl}));return Ie&&Se.push(Ie.imageUrl),m.a.createElement(m.a.Fragment,null,!F&&m.a.createElement(S.a,{to:"/"}),F&&m.a.createElement(m.a.Fragment,null,m.a.createElement(y.a,{balance:Q,ticker:F.info.ticker}),m.a.createElement(h.a,{type:"flex"},m.a.createElement(g.a,{span:24},m.a.createElement(O.a,{style:{width:"auto"}},m.a.createElement(w.e,{loadWithCameraOpen:ae,validateStatus:$?"error":"",help:$||"",onScan:function(e){return ke({target:{name:"address",value:e}})},inputProps:{placeholder:"".concat(B.a.tokenTicker," Address"),name:"address",onChange:function(e){return ke(e)},required:!0,value:le.address}}),m.a.createElement(w.f,{validateStatus:ne?"error":"",help:ne||"",onMax:ye,inputProps:{name:"value",step:1/Math.pow(10,F.info.decimals),placeholder:"Amount",prefix:""!==B.a.tokenIconsUrl?m.a.createElement(P.Img,{src:Se,width:16,height:16,unloader:m.a.createElement("img",{alt:"identicon of tokenId ".concat(t," "),heigh:"16",width:"16",style:{borderRadius:"50%"},key:"identicon-".concat(t),src:T()(t)})}):m.a.createElement("img",{alt:"identicon of tokenId ".concat(t," "),heigh:"16",width:"16",style:{borderRadius:"50%"},key:"identicon-".concat(t),src:T()(t)}),suffix:F.info.ticker,onChange:function(e){return function(e){var t=!1,n=e.target,r=n.value,a=n.name,i=!1;isNaN(r)||(i=new U.a(r).comparedTo(F.balance)),isNaN(r)?t="Amount must be a number":r<=0?t="Amount must be greater than 0":F&&F.balance&&1===i?t="Amount cannot exceed your ".concat(F.info.tokenTicker," balance of ").concat(F.balance):!isNaN(r)&&r.toString().includes(".")&&r.toString().split(".")[1].length>F.info.decimals&&(t="This token only supports ".concat(F.info.decimals," decimal places")),re(t),ue((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(o.a)({},a,r))}))}(e)},required:!0,value:le.value}}),me&&m.a.createElement(L,{defaultChecked:!0,onChange:function(e){ge(e.target.checked)}},"Use Post Office? (pay miner fee in ",F.info.ticker,")"),m.a.createElement("div",{style:{paddingTop:"12px"}},s||ne||$?m.a.createElement(m.a.Fragment,null,m.a.createElement(E.a,null,"Send ",F.info.name)):m.a.createElement(E.c,{onClick:function(){return function(){return we.apply(this,arguments)}()}},"Send ",F.info.name)),Y&&m.a.createElement(x.a,{message:'You are sending a transaction to an address including query parameters "'.concat(Y,'." Token transactions do not support query parameters and they will be ignored.'),type:"warning"}),s&&m.a.createElement(R.a,null)),m.a.createElement(j.b,{column:1,bordered:!0,title:'Token info for "'.concat(F.info.name,'"')},m.a.createElement(j.b.Item,{label:"Token ID"},F.tokenId),m.a.createElement(j.b.Item,{label:"Decimals"},F.info.decimals),m.a.createElement(j.b.Item,{label:"Document URI"},F.info.uri),m.a.createElement(j.b.Item,{label:"Document Hash"},F.info.hash),m.a.createElement(j.b.Item,{label:"Version"},F.info.version),V&&m.a.createElement(m.a.Fragment,null,m.a.createElement(j.b.Item,{label:"Genesis Date"},null!==V.timestampUnix?new Date(1e3*V.timestampUnix).toLocaleDateString():"Just now (Genesis tx confirming)"),m.a.createElement(j.b.Item,{label:"Fixed Supply?"},V.containsBaton?"No":"Yes"),m.a.createElement(j.b.Item,{label:"Initial Quantity"},V.initialTokenQty.toLocaleString()),m.a.createElement(j.b.Item,{label:"Total Burned"},V.totalBurned.toLocaleString()),m.a.createElement(j.b.Item,{label:"Total Minted"},V.totalMinted.toLocaleString()),m.a.createElement(j.b.Item,{label:"Circulating Supply"},V.circulatingSupply.toLocaleString())))))))};Q.defaultProps={passLoadingStatus:function(e){console.log(e)}},t.default=Q}}]);
//# sourceMappingURL=14.6531bab6.chunk.js.map